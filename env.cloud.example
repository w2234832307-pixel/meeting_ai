# ==============================================
# 全三方接口配置示例（推荐优先部署）
# 复制此文件为 .env 并填写实际的 API Key
# ==============================================

# --- 应用基础配置 ---
APP_HOST=0.0.0.0
APP_PORT=8001
AI_MODE=API

# ==============================================
# 三方服务配置
# ==============================================

# --- ASR 语音识别（腾讯云）---
ASR_SERVICE_TYPE=tencent
TENCENT_SECRET_ID=your_tencent_secret_id
TENCENT_SECRET_KEY=your_tencent_secret_key
TENCENT_REGION=ap-beijing
TENCENT_ASR_ENGINE_MODEL_TYPE=16k_zh

# --- LLM 大语言模型（DeepSeek API）---
LLM_SERVICE_TYPE=api
LLM_API_KEY=your_deepseek_api_key
LLM_BASE_URL=https://api.deepseek.com
LLM_MODEL_NAME=deepseek-chat

# --- Embedding 向量化（OpenAI）---
EMBEDDING_SERVICE=openai
OPENAI_API_KEY=your_openai_api_key
OPENAI_BASE_URL=https://api.openai.com/v1
OPENAI_EMBEDDING_MODEL=text-embedding-ada-002

# --- 数据库配置 ---
MYSQL_HOST=localhost
MYSQL_PORT=3306
MYSQL_USER=root
MYSQL_PASSWORD=your_mysql_password
MYSQL_DB=meeting_db

# --- 向量数据库配置（Chroma）---
VECTOR_STORE_TYPE=chroma
CHROMA_HOST=192.168.211.74
CHROMA_PORT=8000
CHROMA_COLLECTION_NAME=employee_voice_library

# --- 服务超时配置（秒）---
# ASR超时：5小时音频约需30-60分钟处理，设置为2小时防止超时
ASR_TIMEOUT=7200
LLM_TIMEOUT=180
EMBEDDING_TIMEOUT=60

# --- 重试配置 ---
ASR_MAX_RETRIES=3
LLM_MAX_RETRIES=3
EMBEDDING_MAX_RETRIES=3

# --- 文件限制配置 ---
MAX_FILE_SIZE_MB=500
MAX_TEXT_LENGTH=100000
MAX_AUDIO_DURATION_SECONDS=18000

# ==============================================
# 本地模型配置（当前未使用，仅供参考）
# 如需切换到本地模型，修改上面的 SERVICE_TYPE 即可
# ==============================================

# --- FunASR 配置（未启用）---
# 方式1：调用独立的 FunASR 服务（推荐）
# ASR_SERVICE_TYPE=funasr
# FUNASR_SERVICE_URL=http://localhost:8002

# 方式2：本地加载模型（需要安装 funasr）
# ASR_SERVICE_TYPE=funasr
# FUNASR_DEVICE=cuda
# FUNASR_NCPU=4

# --- 本地 LLM 配置（未启用）---
# LLM_SERVICE_TYPE=local
LOCAL_LLM_BASE_URL=http://localhost:8000/v1
LOCAL_LLM_API_KEY=
LOCAL_LLM_MODEL_NAME=qwen3-14b
LOCAL_LLM_MAX_TOKENS=4096
LOCAL_LLM_SUPPORT_JSON_MODE=False

# --- BGE-M3 本地配置（未启用）---
# EMBEDDING_SERVICE=bge-m3
BGE_M3_MODEL_NAME=BAAI/bge-m3
BGE_M3_DEVICE=cpu
BGE_M3_USE_FP16=True
BGE_M3_BATCH_SIZE=12

# ==============================================
# 使用说明：
# 1. 复制此文件为 .env: copy env.cloud.example .env
# 2. 填写真实的 API Key（搜索 your_ 替换）
# 3. 启动服务: python main.py
# 4. 后续如需切换到本地模型，只需修改 SERVICE_TYPE
# ==============================================
