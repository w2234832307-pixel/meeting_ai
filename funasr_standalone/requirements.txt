# ==============================================
# FunASR 独立服务依赖
# ==============================================

# FastAPI 框架
fastapi==0.109.0
uvicorn==0.27.0
python-multipart==0.0.9
python-dotenv>=1.0.0

# FunASR 及其依赖
funasr>=1.3.0
modelscope>=1.33.0

# CPU 版本（默认）：
torch>=2.0.0
torchaudio>=2.0.0

# 说话人分离和声纹识别依赖
numpy>=1.24.0
scikit-learn>=1.3.0
simplejson>=3.19.0  # modelscope 依赖
sortedcontainers>=2.4.0  # modelscope/chromadb 依赖
soundfile>=0.12.0  # 音频内存处理（优化）

# Pyannote 说话人分离（可选，专业模型）
# pyannote.audio>=3.1.0  # 取消注释以启用Pyannote
# 注意：首次使用需要在 HuggingFace 上接受模型使用协议
# https://huggingface.co/pyannote/speaker-diarization-3.1

# ChromaDB 声纹库
chromadb==0.5.0
datasets>=2.17.0

# GPU 版本（如果有 NVIDIA GPU）：
# CUDA 11.8:
# torch>=2.0.0 --index-url https://download.pytorch.org/whl/cu118
# torchaudio>=2.0.0 --index-url https://download.pytorch.org/whl/cu118

# CUDA 12.1:
# torch>=2.0.0 --index-url https://download.pytorch.org/whl/cu121
# torchaudio>=2.0.0 --index-url https://download.pytorch.org/whl/cu121

# ==============================================
# 安装说明：
# 
# 1. CPU 版本（默认）：
#    pip install -r requirements.txt
#
# 2. GPU 版本（CUDA 11.8）：
#    pip install fastapi uvicorn python-multipart funasr modelscope
#    pip install torch torchaudio --index-url https://download.pytorch.org/whl/cu118
#
# 3. GPU 版本（CUDA 12.1）：
#    pip install fastapi uvicorn python-multipart funasr modelscope
#    pip install torch torchaudio --index-url https://download.pytorch.org/whl/cu121
# ==============================================
